{"ast":null,"code":"var _jsxFileName = \"/home/sumeet/Desktop/qkart/sumeettheracer-ME_QKART_FRONTEND_V2/src/components/Products.js\",\n    _s = $RefreshSig$();\n\nimport { Search, SentimentDissatisfied } from \"@mui/icons-material\";\nimport { CircularProgress, Grid, InputAdornment, TextField, Box, Typography } from \"@mui/material\"; // import { Box } from \"@mui/system\";\n\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect, useState } from \"react\";\nimport { config } from \"../App\";\nimport Cart, { generateCartItemsFrom } from \"./Cart\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport ProductCard from \"./ProductCard\";\nimport \"./Products.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Products = () => {\n  _s();\n\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [debounceTimeout, setDebounceTimeout] = useState(0);\n  const [fetchedCart, setFetchedCart] = useState([]);\n  const [cartList, setCartList] = useState([]);\n\n  const performAPICall = async () => {\n    try {\n      const url = `${config.endpoint}/products`;\n      const response = await axios.get(url);\n      const data = response.data;\n      setIsLoading(false); //setProducts(data)\n\n      return data;\n    } catch (error) {\n      setIsLoading(false);\n      setProducts([]);\n      enqueueSnackbar(error.response.data.message, {\n        variant: \"error\"\n      });\n    }\n  };\n\n  const performSearch = async text => {\n    let erres = null;\n\n    try {\n      const url = config.endpoint + `/products/search?value=${text}`;\n      const response = await axios.get(url);\n\n      if (response) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        erres = error.response;\n      } else {\n        console.log(error);\n      }\n    }\n\n    if (erres) return erres.data;\n  }; // const performSearch = async (text) => {\n  //   try {\n  //     const response = await axios.get(\n  //       `${config.endpoint}/products/search?value=${text}`\n  //     );\n  //     if (response.data) {\n  //       setError(false)\n  //       setProducts(response.data);\n  //       return response.data;\n  //     }\n  //   } catch (e) {\n  //     if (e.response.status === 404) {\n  //       setError(true)\n  //       setProducts([]);\n  //     }\n  //   }\n  // };\n  // const debounceSearch = (event, debounceTimeout) => {\n  //   performSearch(event)\n  //   if (debounceTimeout !== 0) {\n  //     clearTimeout(debounceTimeout);\n  //   }\n  //   let timerId = setTimeout(() => performSearch(event.target.value), 500);\n  //   setDebounceTimeout(timerId);\n  // }\n\n\n  const debounceSearch = (event, debounceTimeout) => {\n    if (debounceTimeout !== 0) {\n      clearTimeout(debounceTimeout);\n    }\n\n    const timeout = setTimeout(async () => {\n      setProducts(await performSearch(event.target.value));\n    }, 500);\n    setDebounceTimeout(timeout);\n  };\n\n  const fetchCart = async token => {\n    if (!token) return;\n\n    try {\n      const response = await axios.get(config.endpoint + \"/cart\", {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = response.data; //console.log(data);\n\n      return data; // TODO: CRIO_TASK_MODULE_CART - Pass Bearer token inside \"Authorization\" header to get data from \"GET /cart\" API and return the response data\n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        enqueueSnackbar(e.response.data.message, {\n          variant: \"error\"\n        });\n      } else {\n        enqueueSnackbar(\"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\", {\n          variant: \"error\"\n        });\n      }\n\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    // code to run after render goes here\n    const callApi = async () => {\n      setIsLoading(true);\n      const getProducts = await performAPICall();\n      setIsLoading(false);\n      setProducts(getProducts); // if (localStorage.getItem('username')) {\n      //   const getCart = await fetchCart(localStorage.getItem(\"token\"))\n      //   setFetchedCart(getCart)\n      //   setCartList(generateCartItemsFrom(getCart, getProducts))\n      // }\n\n      const getCart = await fetchCart(localStorage.getItem(\"token\"));\n      setFetchedCart(getCart);\n      setCartList(generateCartItemsFrom(getCart, getProducts)); // console.log(\"inside useeffect\",fetchedcart,res)\n    };\n\n    callApi(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n\n  /**\n   * Return if a product already is present in the cart\n   *\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { String } productId\n   *    Id of a product to be checked\n   *\n   * @returns { Boolean }\n   *    Whether a product of given \"productId\" exists in the \"items\" array\n   *\n   */\n\n  const isItemInCart = (items, productId) => {\n    const prodIds = items.map(item => {\n      return item.productId;\n    });\n    return prodIds.includes(productId);\n  };\n  /**\n   * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n   *\n   * @param {string} token\n   *    Authentication token returned on login\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { Array.<Product> } products\n   *    Array of objects with complete data on all available products\n   * @param {string} productId\n   *    ID of the product that is to be added or updated in cart\n   * @param {number} qty\n   *    How many of the product should be in the cart\n   * @param {boolean} options\n   *    If this function was triggered from the product card's \"Add to Cart\" button\n   *\n   * Example for successful response from backend:\n   * HTTP 200 - Updated list of cart items\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 404 - On invalid productId\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Product doesn't exist\"\n   * }\n   */\n\n\n  const addToCart = async function (token, items, products, productId, qty) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      preventDuplicate: false\n    };\n\n    try {\n      // console.log(token,items,products,productId,qty,options)\n      if (!token) {\n        enqueueSnackbar(\"Login to add an item to the Cart\", {\n          variant: \"warning\"\n        });\n      } else if (options.preventDuplicate && isItemInCart(items, productId)) {\n        enqueueSnackbar(\"Item already in cart. Use the cart sidebar to update quantity or remove item.\", {\n          variant: \"warning\"\n        });\n      } else {\n        //console.log(token,items,products,productId,qty,options)\n        const res = await axios.post(`${config.endpoint}/cart`, {\n          productId: productId,\n          qty: qty\n        }, {\n          headers: {\n            Authorization: \"Bearer \" + token\n          }\n        });\n        setFetchedCart(res.data);\n        setCartList(generateCartItemsFrom(res.data, products));\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        enqueueSnackbar(error.response.data.message, {\n          variant: \"error\"\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          className: \"search-desktop\",\n          fullWidth: true,\n          size: \"small\",\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: /*#__PURE__*/_jsxDEV(Search, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this)\n          },\n          placeholder: \"Search for items/categories\",\n          name: \"search\" //value={search}\n          ,\n          onChange: e => {\n            debounceSearch(e, debounceTimeout);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 12\n      }, this),\n      hasHiddenAuthButtons: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      className: \"search-mobile\",\n      fullWidth: true,\n      size: \"small\",\n      InputProps: {\n        endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"end\",\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      },\n      placeholder: \"Search for items/categories\",\n      name: \"search\" //value={search}\n      ,\n      onChange: e => {\n        debounceSearch(e, debounceTimeout);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: localStorage.getItem(\"username\") ? 9 : 12,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              className: \"product-grid\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                className: \"hero\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"hero-heading\",\n                  children: [\"India\\u2019s \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"hero-highlight\",\n                    children: \"FASTEST DELIVERY\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 29\n                  }, this), \" \", \"to your door step\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading\",\n            children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"p\",\n              sx: {\n                marginTop: \"1rem\"\n              },\n              children: \"Loading Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this) : products.length === 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            sx: {\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              height: \"50vh\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(SentimentDissatisfied, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"p\",\n              sx: {\n                marginTop: \"1rem\"\n              },\n              children: \"No Products found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 1,\n            sx: {\n              padding: \"3rem 4rem\"\n            },\n            children: products && products.map(product => /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              md: 3,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(ProductCard, {\n                product: product,\n                handleAddToCart: () => addToCart(localStorage.getItem(\"token\"), fetchedCart, products, product._id, 1, {\n                  preventDuplicate: true\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 29\n              }, this)\n            }, product._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 27\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), localStorage.getItem(\"username\") ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 3,\n        xs: 12,\n        bgcolor: \"#E9F5E1\",\n        children: /*#__PURE__*/_jsxDEV(Cart, {\n          products: products,\n          items: cartList,\n          handleQuantity: addToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Products, \"ijt4iY3p04CLxuSBWsIKL/b9T8E=\", false, function () {\n  return [useSnackbar];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["Search","SentimentDissatisfied","CircularProgress","Grid","InputAdornment","TextField","Box","Typography","axios","useSnackbar","React","useEffect","useState","config","Cart","generateCartItemsFrom","Footer","Header","ProductCard","Products","enqueueSnackbar","products","setProducts","isLoading","setIsLoading","debounceTimeout","setDebounceTimeout","fetchedCart","setFetchedCart","cartList","setCartList","performAPICall","url","endpoint","response","get","data","error","message","variant","performSearch","text","erres","console","log","debounceSearch","event","clearTimeout","timeout","setTimeout","target","value","fetchCart","token","headers","e","status","callApi","getProducts","getCart","localStorage","getItem","isItemInCart","items","productId","prodIds","map","item","includes","addToCart","qty","options","preventDuplicate","res","post","Authorization","endAdornment","marginTop","length","display","flexDirection","justifyContent","alignItems","height","padding","product","_id"],"sources":["/home/sumeet/Desktop/qkart/sumeettheracer-ME_QKART_FRONTEND_V2/src/components/Products.js"],"sourcesContent":["import { Search, SentimentDissatisfied } from \"@mui/icons-material\";\nimport {\n  CircularProgress,\n  Grid,\n  InputAdornment,\n  TextField,\n  Box,\n  Typography\n} from \"@mui/material\";\n// import { Box } from \"@mui/system\";\nimport axios from \"axios\";\n\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect, useState } from \"react\";\nimport { config } from \"../App\";\nimport Cart, { generateCartItemsFrom } from \"./Cart\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport ProductCard from \"./ProductCard\";\nimport \"./Products.css\";\n\n\n\nconst Products = () => {\n  const { enqueueSnackbar } = useSnackbar()\n  const [products, setProducts] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [debounceTimeout, setDebounceTimeout] = useState(0)\n  const [fetchedCart, setFetchedCart] = useState([])\n  const [cartList, setCartList] = useState([])\n\n  const performAPICall = async () => {\n    try {\n      const url = `${config.endpoint}/products`\n      const response = await axios.get(url)\n      const data = response.data\n      setIsLoading(false)\n      //setProducts(data)\n      return data\n    } catch (error) {\n      setIsLoading(false)\n      setProducts([])\n      enqueueSnackbar(error.response.data.message, { variant: \"error\" });\n    }\n  }\n\n  const performSearch = async (text) => {\n    let erres = null;\n    try {\n      const url = config.endpoint + `/products/search?value=${text}`;\n      const response = await axios.get(url);\n\n      if (response) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        erres = error.response;\n      } else {\n        console.log(error);\n      }\n    }\n    if (erres)\n      return erres.data;\n  };\n\n\n\n  // const performSearch = async (text) => {\n  //   try {\n  //     const response = await axios.get(\n  //       `${config.endpoint}/products/search?value=${text}`\n  //     );\n  //     if (response.data) {\n  //       setError(false)\n  //       setProducts(response.data);\n  //       return response.data;\n  //     }\n  //   } catch (e) {\n  //     if (e.response.status === 404) {\n  //       setError(true)\n  //       setProducts([]);\n\n\n  //     }\n  //   }\n  // };\n\n\n\n  // const debounceSearch = (event, debounceTimeout) => {\n  //   performSearch(event)\n  //   if (debounceTimeout !== 0) {\n  //     clearTimeout(debounceTimeout);\n  //   }\n  //   let timerId = setTimeout(() => performSearch(event.target.value), 500);\n  //   setDebounceTimeout(timerId);\n  // }\n\n  const debounceSearch = (event, debounceTimeout) => {\n    if (debounceTimeout !== 0) {\n      clearTimeout(debounceTimeout);\n    }\n    const timeout = setTimeout(async () => {\n      setProducts(await performSearch(event.target.value));\n    }, 500);\n    setDebounceTimeout(timeout);\n  };\n\n\n  const fetchCart = async (token) => {\n    if (!token) return;\n\n    try {\n\n      const response = await axios.get(config.endpoint + \"/cart\", {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      const data = response.data\n\n      //console.log(data);\n\n      return data\n      // TODO: CRIO_TASK_MODULE_CART - Pass Bearer token inside \"Authorization\" header to get data from \"GET /cart\" API and return the response data\n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        enqueueSnackbar(e.response.data.message, { variant: \"error\" });\n      } else {\n        enqueueSnackbar(\n          \"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\",\n          {\n            variant: \"error\",\n          }\n        );\n      }\n      return null;\n    }\n  };\n\n\n\n\n  useEffect(() => {\n    // code to run after render goes here\n    const callApi = async () => {\n      setIsLoading(true)\n      const getProducts = await performAPICall();\n      setIsLoading(false)\n      setProducts(getProducts);\n      // if (localStorage.getItem('username')) {\n      //   const getCart = await fetchCart(localStorage.getItem(\"token\"))\n      //   setFetchedCart(getCart)\n      //   setCartList(generateCartItemsFrom(getCart, getProducts))\n      // }\n      const getCart = await fetchCart(localStorage.getItem(\"token\"))\n      setFetchedCart(getCart)\n      setCartList(generateCartItemsFrom(getCart, getProducts))\n      // console.log(\"inside useeffect\",fetchedcart,res)\n    };\n    callApi();\n// eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  // TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n  /**\n   * Return if a product already is present in the cart\n   *\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { String } productId\n   *    Id of a product to be checked\n   *\n   * @returns { Boolean }\n   *    Whether a product of given \"productId\" exists in the \"items\" array\n   *\n   */\n  const isItemInCart = (items, productId) => {\n    const prodIds = items.map((item) => {\n      return item.productId;\n    })\n    return (prodIds.includes(productId));\n  };\n\n  /**\n   * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n   *\n   * @param {string} token\n   *    Authentication token returned on login\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { Array.<Product> } products\n   *    Array of objects with complete data on all available products\n   * @param {string} productId\n   *    ID of the product that is to be added or updated in cart\n   * @param {number} qty\n   *    How many of the product should be in the cart\n   * @param {boolean} options\n   *    If this function was triggered from the product card's \"Add to Cart\" button\n   *\n   * Example for successful response from backend:\n   * HTTP 200 - Updated list of cart items\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 404 - On invalid productId\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Product doesn't exist\"\n   * }\n   */\n  const addToCart = async (\n    token,\n    items,\n    products,\n    productId,\n    qty,\n    options = { preventDuplicate: false }\n  ) => {\n    try {\n      // console.log(token,items,products,productId,qty,options)\n      if (!token) {\n        enqueueSnackbar(\"Login to add an item to the Cart\", {\n          variant: \"warning\",\n        });\n      } else if (options.preventDuplicate && isItemInCart(items, productId)) {\n        enqueueSnackbar(\n          \"Item already in cart. Use the cart sidebar to update quantity or remove item.\",\n          { variant: \"warning\" }\n        );\n      } else {\n        //console.log(token,items,products,productId,qty,options)\n        const res = await axios.post(\n          `${config.endpoint}/cart`,\n          { productId: productId, qty: qty },\n          {\n            headers: { Authorization: \"Bearer \" + token }\n          }\n        );\n\n        setFetchedCart(res.data);\n        setCartList(generateCartItemsFrom(res.data, products));\n\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        enqueueSnackbar(error.response.data.message, { variant: \"error\" });\n      }\n    }\n  };\n\n\n\n\n\n\n  return (\n    <div>\n      <Header\n\n        children={\n          (<div className=\"search\">\n            <TextField\n              className=\"search-desktop\"\n              fullWidth\n              size=\"small\"\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Search color=\"primary\" />\n                  </InputAdornment>\n                ),\n              }}\n              placeholder=\"Search for items/categories\"\n              name=\"search\"\n              //value={search}\n              onChange={(e) => {\n                debounceSearch(e, debounceTimeout);\n              }}\n            />\n          </div>)\n        }\n\n        hasHiddenAuthButtons={false}>\n\n      </Header>\n      <TextField\n        className=\"search-mobile\"\n        fullWidth\n        size=\"small\"\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Search color=\"primary\" />\n            </InputAdornment>\n          ),\n        }}\n        placeholder=\"Search for items/categories\"\n        name=\"search\"\n        //value={search}\n        onChange={(e) => {\n          debounceSearch(e, debounceTimeout);\n        }}\n      />\n      <Grid container>\n        <Grid item md={localStorage.getItem(\"username\") ? 9 : 12} xs={12}>\n          <Box>\n            <Grid container>\n              <Grid item className=\"product-grid\">\n                <Box className=\"hero\">\n                  <p className=\"hero-heading\">\n                    Indiaâ€™s <span className=\"hero-highlight\">FASTEST DELIVERY</span>{\" \"}\n                    to your door step\n                  </p>\n                </Box>\n              </Grid>\n            </Grid>\n\n            {\n              isLoading ?\n                <div className=\"loading\">\n                  <CircularProgress />\n                  <Typography variant=\"p\" sx={{ marginTop: \"1rem\" }}>Loading Products</Typography>\n                </div> :\n                (products.length === 0 ?\n                  <Grid container sx={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\", height: \"50vh\" }}>\n                    <SentimentDissatisfied />\n                    <Typography variant=\"p\" sx={{ marginTop: \"1rem\" }}>No Products found</Typography>\n                  </Grid> :\n                  (\n                    <Grid container spacing={1} sx={{ padding: \"3rem 4rem\" }} >\n                      {\n                        products && products.map(product => (\n                          <Grid item md={3} sm={6} key={product._id} >\n                            <ProductCard\n                              product={product}\n                              handleAddToCart={() => addToCart(\n                                localStorage.getItem(\"token\"),\n                                fetchedCart,\n                                products,\n                                product._id,\n                                1,\n                                { preventDuplicate: true }\n                              )} />\n                          </Grid>\n                        ))\n\n                      }\n                    </Grid>\n                  ))\n            }\n\n          </Box>\n        </Grid>\n\n        {/* Cart */}\n        {\n          localStorage.getItem(\"username\") ?\n            <Grid item md={3} xs={12} bgcolor=\"#E9F5E1\">\n                <Cart products={products} items={cartList} handleQuantity={addToCart} /> \n            </Grid> :\n            null\n        }\n      </Grid>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Products;"],"mappings":"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"},"metadata":{},"sourceType":"module"}