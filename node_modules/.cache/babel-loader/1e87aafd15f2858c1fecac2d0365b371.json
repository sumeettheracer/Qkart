{"ast":null,"code":"import _regeneratorRuntime from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Search,SentimentDissatisfied}from\"@mui/icons-material\";import{CircularProgress,Grid,InputAdornment,TextField,Box,Typography}from\"@mui/material\";// import { Box } from \"@mui/system\";\nimport axios from\"axios\";import{useSnackbar}from\"notistack\";import React,{useEffect,useState}from\"react\";import{config}from\"../App\";import Cart,{generateCartItemsFrom}from\"./Cart\";import Footer from\"./Footer\";import Header from\"./Header\";import ProductCard from\"./ProductCard\";import\"./Products.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),debounceTimeout=_useState6[0],setDebounceTimeout=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),fetchedCart=_useState8[0],setFetchedCart=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cartList=_useState10[0],setCartList=_useState10[1];var performAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"\".concat(config.endpoint,\"/products\");_context.next=4;return axios.get(url);case 4:response=_context.sent;data=response.data;setIsLoading(false);//setProducts(data)\nreturn _context.abrupt(\"return\",data);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setIsLoading(false);setProducts([]);enqueueSnackbar(_context.t0.response.data.message,{variant:\"error\"});case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function performAPICall(){return _ref.apply(this,arguments);};}();var performSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(text){var erres,url,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:erres=null;_context2.prev=1;url=config.endpoint+\"/products/search?value=\".concat(text);_context2.next=5;return axios.get(url);case 5:response=_context2.sent;if(!response){_context2.next=8;break;}return _context2.abrupt(\"return\",response.data);case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);if(_context2.t0.response){erres=_context2.t0.response;}else{console.log(_context2.t0);}case 13:if(!erres){_context2.next=15;break;}return _context2.abrupt(\"return\",erres.data);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function performSearch(_x){return _ref2.apply(this,arguments);};}();// const performSearch = async (text) => {\n//   try {\n//     const response = await axios.get(\n//       `${config.endpoint}/products/search?value=${text}`\n//     );\n//     if (response.data) {\n//       setError(false)\n//       setProducts(response.data);\n//       return response.data;\n//     }\n//   } catch (e) {\n//     if (e.response.status === 404) {\n//       setError(true)\n//       setProducts([]);\n//     }\n//   }\n// };\n// const debounceSearch = (event, debounceTimeout) => {\n//   performSearch(event)\n//   if (debounceTimeout !== 0) {\n//     clearTimeout(debounceTimeout);\n//   }\n//   let timerId = setTimeout(() => performSearch(event.target.value), 500);\n//   setDebounceTimeout(timerId);\n// }\nvar debounceSearch=function debounceSearch(event,debounceTimeout){if(debounceTimeout!==0){clearTimeout(debounceTimeout);}var timeout=setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=setProducts;_context3.next=3;return performSearch(event.target.value);case 3:_context3.t1=_context3.sent;(0,_context3.t0)(_context3.t1);case 5:case\"end\":return _context3.stop();}}},_callee3);})),500);setDebounceTimeout(timeout);};var fetchCart=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(token){_context4.next=2;break;}return _context4.abrupt(\"return\");case 2:_context4.prev=2;_context4.next=5;return axios.get(config.endpoint+\"/cart\",{headers:{'Authorization':\"Bearer \".concat(token)}});case 5:response=_context4.sent;data=response.data;//console.log(data);\nreturn _context4.abrupt(\"return\",data);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](2);if(_context4.t0.response&&_context4.t0.response.status===400){enqueueSnackbar(_context4.t0.response.data.message,{variant:\"error\"});}else{enqueueSnackbar(\"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\",{variant:\"error\"});}return _context4.abrupt(\"return\",null);case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[2,10]]);}));return function fetchCart(_x2){return _ref4.apply(this,arguments);};}();useEffect(function(){// code to run after render goes here\nvar callApi=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var getProducts,getCart;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setIsLoading(true);_context5.next=3;return performAPICall();case 3:getProducts=_context5.sent;setIsLoading(false);setProducts(getProducts);// if (localStorage.getItem('username')) {\n//   const getCart = await fetchCart(localStorage.getItem(\"token\"))\n//   setFetchedCart(getCart)\n//   setCartList(generateCartItemsFrom(getCart, getProducts))\n// }\n_context5.next=8;return fetchCart(localStorage.getItem(\"token\"));case 8:getCart=_context5.sent;setFetchedCart(getCart);setCartList(generateCartItemsFrom(getCart,getProducts));// console.log(\"inside useeffect\",fetchedcart,res)\ncase 11:case\"end\":return _context5.stop();}}},_callee5);}));return function callApi(){return _ref5.apply(this,arguments);};}();callApi();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n/**\n   * Return if a product already is present in the cart\n   *\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { String } productId\n   *    Id of a product to be checked\n   *\n   * @returns { Boolean }\n   *    Whether a product of given \"productId\" exists in the \"items\" array\n   *\n   */var isItemInCart=function isItemInCart(items,productId){var prodIds=items.map(function(item){return item.productId;});return prodIds.includes(productId);};/**\n   * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n   *\n   * @param {string} token\n   *    Authentication token returned on login\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { Array.<Product> } products\n   *    Array of objects with complete data on all available products\n   * @param {string} productId\n   *    ID of the product that is to be added or updated in cart\n   * @param {number} qty\n   *    How many of the product should be in the cart\n   * @param {boolean} options\n   *    If this function was triggered from the product card's \"Add to Cart\" button\n   *\n   * Example for successful response from backend:\n   * HTTP 200 - Updated list of cart items\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 404 - On invalid productId\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Product doesn't exist\"\n   * }\n   */var addToCart=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(token,items,products,productId,qty){var options,res,_args6=arguments;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:options=_args6.length>5&&_args6[5]!==undefined?_args6[5]:{preventDuplicate:false};_context6.prev=1;if(token){_context6.next=6;break;}enqueueSnackbar(\"Login to add an item to the Cart\",{variant:\"warning\"});_context6.next=15;break;case 6:if(!(options.preventDuplicate&&isItemInCart(items,productId))){_context6.next=10;break;}enqueueSnackbar(\"Item already in cart. Use the cart sidebar to update quantity or remove item.\",{variant:\"warning\"});_context6.next=15;break;case 10:_context6.next=12;return axios.post(\"\".concat(config.endpoint,\"/cart\"),{productId:productId,qty:qty},{headers:{Authorization:\"Bearer \"+token}});case 12:res=_context6.sent;setFetchedCart(res.data);setCartList(generateCartItemsFrom(res.data,products));case 15:_context6.next=20;break;case 17:_context6.prev=17;_context6.t0=_context6[\"catch\"](1);if(_context6.t0.response&&_context6.t0.response.status===400){enqueueSnackbar(_context6.t0.response.data.message,{variant:\"error\"});}case 20:case\"end\":return _context6.stop();}}},_callee6,null,[[1,17]]);}));return function addToCart(_x3,_x4,_x5,_x6,_x7){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsx(TextField,{className:\"search-desktop\",fullWidth:true,size:\"small\",InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(Search,{color:\"primary\"})})},placeholder:\"Search for items/categories\",name:\"search\"//value={search}\n,onChange:function onChange(e){debounceSearch(e,debounceTimeout);}})}),hasHiddenAuthButtons:false}),/*#__PURE__*/_jsx(TextField,{className:\"search-mobile\",fullWidth:true,size:\"small\",InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(Search,{color:\"primary\"})})},placeholder:\"Search for items/categories\",name:\"search\"//value={search}\n,onChange:function onChange(e){debounceSearch(e,debounceTimeout);}}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,md:localStorage.getItem(\"username\")?9:12,xs:12,children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,className:\"product-grid\",children:/*#__PURE__*/_jsx(Box,{className:\"hero\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"hero-heading\",children:[\"India\\u2019s \",/*#__PURE__*/_jsx(\"span\",{className:\"hero-highlight\",children:\"FASTEST DELIVERY\"}),\" \",\"to your door step\"]})})})}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"p\",sx:{marginTop:\"1rem\"},children:\"Loading Products\"})]}):products.length===0?/*#__PURE__*/_jsxs(Grid,{container:true,sx:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",height:\"50vh\"},children:[/*#__PURE__*/_jsx(SentimentDissatisfied,{}),/*#__PURE__*/_jsx(Typography,{variant:\"p\",sx:{marginTop:\"1rem\"},children:\"No Products found\"})]}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,sx:{padding:\"3rem 4rem\"},children:products&&products.map(function(product){return/*#__PURE__*/_jsx(Grid,{item:true,md:3,sm:6,children:/*#__PURE__*/_jsx(ProductCard,{product:product,handleAddToCart:function handleAddToCart(){return addToCart(localStorage.getItem(\"token\"),fetchedCart,products,product._id,1,{preventDuplicate:true});}})},product._id);})})]})}),localStorage.getItem(\"username\")?/*#__PURE__*/_jsx(Grid,{item:true,md:3,xs:12,bgcolor:\"#E9F5E1\",children:/*#__PURE__*/_jsx(Cart,{products:products,items:cartList,handleQuantity:addToCart})}):null]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Products;","map":{"version":3,"names":["Search","SentimentDissatisfied","CircularProgress","Grid","InputAdornment","TextField","Box","Typography","axios","useSnackbar","React","useEffect","useState","config","Cart","generateCartItemsFrom","Footer","Header","ProductCard","Products","enqueueSnackbar","products","setProducts","isLoading","setIsLoading","debounceTimeout","setDebounceTimeout","fetchedCart","setFetchedCart","cartList","setCartList","performAPICall","url","endpoint","get","response","data","message","variant","performSearch","text","erres","console","log","debounceSearch","event","clearTimeout","timeout","setTimeout","target","value","fetchCart","token","headers","status","callApi","getProducts","localStorage","getItem","getCart","isItemInCart","items","productId","prodIds","map","item","includes","addToCart","qty","options","preventDuplicate","post","Authorization","res","endAdornment","e","marginTop","length","display","flexDirection","justifyContent","alignItems","height","padding","product","_id"],"sources":["/home/sumeet/Desktop/New Folder/Qkart/src/components/Products.js"],"sourcesContent":["import { Search, SentimentDissatisfied } from \"@mui/icons-material\";\nimport {\n  CircularProgress,\n  Grid,\n  InputAdornment,\n  TextField,\n  Box,\n  Typography\n} from \"@mui/material\";\n// import { Box } from \"@mui/system\";\nimport axios from \"axios\";\n\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect, useState } from \"react\";\nimport { config } from \"../App\";\nimport Cart, { generateCartItemsFrom } from \"./Cart\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport ProductCard from \"./ProductCard\";\nimport \"./Products.css\";\n\n\n\nconst Products = () => {\n  const { enqueueSnackbar } = useSnackbar()\n  const [products, setProducts] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [debounceTimeout, setDebounceTimeout] = useState(0)\n  const [fetchedCart, setFetchedCart] = useState([])\n  const [cartList, setCartList] = useState([])\n\n  const performAPICall = async () => {\n    try {\n      const url = `${config.endpoint}/products`\n      const response = await axios.get(url)\n      const data = response.data\n      setIsLoading(false)\n      //setProducts(data)\n      return data\n    } catch (error) {\n      setIsLoading(false)\n      setProducts([])\n      enqueueSnackbar(error.response.data.message, { variant: \"error\" });\n    }\n  }\n\n  const performSearch = async (text) => {\n    let erres = null;\n    try {\n      const url = config.endpoint + `/products/search?value=${text}`;\n      const response = await axios.get(url);\n\n      if (response) {\n        return response.data;\n      }\n    } catch (error) {\n      if (error.response) {\n        erres = error.response;\n      } else {\n        console.log(error);\n      }\n    }\n    if (erres)\n      return erres.data;\n  };\n\n\n\n  // const performSearch = async (text) => {\n  //   try {\n  //     const response = await axios.get(\n  //       `${config.endpoint}/products/search?value=${text}`\n  //     );\n  //     if (response.data) {\n  //       setError(false)\n  //       setProducts(response.data);\n  //       return response.data;\n  //     }\n  //   } catch (e) {\n  //     if (e.response.status === 404) {\n  //       setError(true)\n  //       setProducts([]);\n\n\n  //     }\n  //   }\n  // };\n\n\n\n  // const debounceSearch = (event, debounceTimeout) => {\n  //   performSearch(event)\n  //   if (debounceTimeout !== 0) {\n  //     clearTimeout(debounceTimeout);\n  //   }\n  //   let timerId = setTimeout(() => performSearch(event.target.value), 500);\n  //   setDebounceTimeout(timerId);\n  // }\n\n  const debounceSearch = (event, debounceTimeout) => {\n    if (debounceTimeout !== 0) {\n      clearTimeout(debounceTimeout);\n    }\n    const timeout = setTimeout(async () => {\n      setProducts(await performSearch(event.target.value));\n    }, 500);\n    setDebounceTimeout(timeout);\n  };\n\n\n  const fetchCart = async (token) => {\n    if (!token) return;\n\n    try {\n\n      const response = await axios.get(config.endpoint + \"/cart\", {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      const data = response.data\n\n      //console.log(data);\n\n      return data\n      // TODO: CRIO_TASK_MODULE_CART - Pass Bearer token inside \"Authorization\" header to get data from \"GET /cart\" API and return the response data\n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        enqueueSnackbar(e.response.data.message, { variant: \"error\" });\n      } else {\n        enqueueSnackbar(\n          \"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\",\n          {\n            variant: \"error\",\n          }\n        );\n      }\n      return null;\n    }\n  };\n\n\n\n\n  useEffect(() => {\n    // code to run after render goes here\n    const callApi = async () => {\n      setIsLoading(true)\n      const getProducts = await performAPICall();\n      setIsLoading(false)\n      setProducts(getProducts);\n      // if (localStorage.getItem('username')) {\n      //   const getCart = await fetchCart(localStorage.getItem(\"token\"))\n      //   setFetchedCart(getCart)\n      //   setCartList(generateCartItemsFrom(getCart, getProducts))\n      // }\n      const getCart = await fetchCart(localStorage.getItem(\"token\"))\n      setFetchedCart(getCart)\n      setCartList(generateCartItemsFrom(getCart, getProducts))\n      // console.log(\"inside useeffect\",fetchedcart,res)\n    };\n    callApi();\n// eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  // TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n  /**\n   * Return if a product already is present in the cart\n   *\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { String } productId\n   *    Id of a product to be checked\n   *\n   * @returns { Boolean }\n   *    Whether a product of given \"productId\" exists in the \"items\" array\n   *\n   */\n  const isItemInCart = (items, productId) => {\n    const prodIds = items.map((item) => {\n      return item.productId;\n    })\n    return (prodIds.includes(productId));\n  };\n\n  /**\n   * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n   *\n   * @param {string} token\n   *    Authentication token returned on login\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { Array.<Product> } products\n   *    Array of objects with complete data on all available products\n   * @param {string} productId\n   *    ID of the product that is to be added or updated in cart\n   * @param {number} qty\n   *    How many of the product should be in the cart\n   * @param {boolean} options\n   *    If this function was triggered from the product card's \"Add to Cart\" button\n   *\n   * Example for successful response from backend:\n   * HTTP 200 - Updated list of cart items\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 404 - On invalid productId\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Product doesn't exist\"\n   * }\n   */\n  const addToCart = async (\n    token,\n    items,\n    products,\n    productId,\n    qty,\n    options = { preventDuplicate: false }\n  ) => {\n    try {\n      // console.log(token,items,products,productId,qty,options)\n      if (!token) {\n        enqueueSnackbar(\"Login to add an item to the Cart\", {\n          variant: \"warning\",\n        });\n      } else if (options.preventDuplicate && isItemInCart(items, productId)) {\n        enqueueSnackbar(\n          \"Item already in cart. Use the cart sidebar to update quantity or remove item.\",\n          { variant: \"warning\" }\n        );\n      } else {\n        //console.log(token,items,products,productId,qty,options)\n        const res = await axios.post(\n          `${config.endpoint}/cart`,\n          { productId: productId, qty: qty },\n          {\n            headers: { Authorization: \"Bearer \" + token }\n          }\n        );\n\n        setFetchedCart(res.data);\n        setCartList(generateCartItemsFrom(res.data, products));\n\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        enqueueSnackbar(error.response.data.message, { variant: \"error\" });\n      }\n    }\n  };\n\n\n\n\n\n\n  return (\n    <div>\n      <Header\n\n        children={\n          (<div className=\"search\">\n            <TextField\n              className=\"search-desktop\"\n              fullWidth\n              size=\"small\"\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Search color=\"primary\" />\n                  </InputAdornment>\n                ),\n              }}\n              placeholder=\"Search for items/categories\"\n              name=\"search\"\n              //value={search}\n              onChange={(e) => {\n                debounceSearch(e, debounceTimeout);\n              }}\n            />\n          </div>)\n        }\n\n        hasHiddenAuthButtons={false}>\n\n      </Header>\n      <TextField\n        className=\"search-mobile\"\n        fullWidth\n        size=\"small\"\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Search color=\"primary\" />\n            </InputAdornment>\n          ),\n        }}\n        placeholder=\"Search for items/categories\"\n        name=\"search\"\n        //value={search}\n        onChange={(e) => {\n          debounceSearch(e, debounceTimeout);\n        }}\n      />\n      <Grid container>\n        <Grid item md={localStorage.getItem(\"username\") ? 9 : 12} xs={12}>\n          <Box>\n            <Grid container>\n              <Grid item className=\"product-grid\">\n                <Box className=\"hero\">\n                  <p className=\"hero-heading\">\n                    Indiaâ€™s <span className=\"hero-highlight\">FASTEST DELIVERY</span>{\" \"}\n                    to your door step\n                  </p>\n                </Box>\n              </Grid>\n            </Grid>\n\n            {\n              isLoading ?\n                <div className=\"loading\">\n                  <CircularProgress />\n                  <Typography variant=\"p\" sx={{ marginTop: \"1rem\" }}>Loading Products</Typography>\n                </div> :\n                (products.length === 0 ?\n                  <Grid container sx={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\", height: \"50vh\" }}>\n                    <SentimentDissatisfied />\n                    <Typography variant=\"p\" sx={{ marginTop: \"1rem\" }}>No Products found</Typography>\n                  </Grid> :\n                  (\n                    <Grid container spacing={1} sx={{ padding: \"3rem 4rem\" }} >\n                      {\n                        products && products.map(product => (\n                          <Grid item md={3} sm={6} key={product._id} >\n                            <ProductCard\n                              product={product}\n                              handleAddToCart={() => addToCart(\n                                localStorage.getItem(\"token\"),\n                                fetchedCart,\n                                products,\n                                product._id,\n                                1,\n                                { preventDuplicate: true }\n                              )} />\n                          </Grid>\n                        ))\n\n                      }\n                    </Grid>\n                  ))\n            }\n\n          </Box>\n        </Grid>\n\n        {/* Cart */}\n        {\n          localStorage.getItem(\"username\") ?\n            <Grid item md={3} xs={12} bgcolor=\"#E9F5E1\">\n                <Cart products={products} items={cartList} handleQuantity={addToCart} /> \n            </Grid> :\n            null\n        }\n      </Grid>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Products;"],"mappings":"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"},"metadata":{},"sourceType":"module"}