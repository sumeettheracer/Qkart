{"ast":null,"code":"import _defineProperty from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sumeet/Desktop/New Folder/Qkart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,CircularProgress,Stack,TextField}from\"@mui/material\";import{Box}from\"@mui/system\";import{Link,useHistory}from\"react-router-dom\";import axios from\"axios\";import{useSnackbar}from\"notistack\";import React,{useState,useEffect}from\"react\";import{config}from\"../App\";import Footer from\"./Footer\";import Header from\"./Header\";import\"./Register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var formdatainit={username:\"\",password:\"\",confirmPassword:\"\"};var _useState=useState(formdatainit),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setform=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoding=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var history=useHistory();useEffect(function(){if(success){history.push(\"/login\");}},[success,history]);var register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(formData){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoding(true);if(!validateInput(formData)){_context.next=4;break;}_context.next=4;return axios.post(\"\".concat(config.endpoint,\"/auth/register\"),{username:formData.username,password:formData.password}).then(function(res){if(res.data.success){enqueueSnackbar(\"User registration successfully\",{variant:\"success\"});// history.push('/login');\n}}).catch(function(e){setIsLoding(false);if(!e.response.data.success&&e.response.status===400){enqueueSnackbar(e.response.data.message,{variant:\"error\"});}else{enqueueSnackbar(\"Something went wrong!\",{variant:\"error\"});}});case 4:setIsLoding(false);setSuccess(true);case 6:case\"end\":return _context.stop();}}},_callee);}));return function register(_x){return _ref.apply(this,arguments);};}();var validateInput=function validateInput(data){if(!data.username){enqueueSnackbar(\"Username is a required field\",{variant:\"error\"});return false;}if(data.username.length<6){enqueueSnackbar(\"Username must be at least 6 characters\",{variant:\"error\"});return false;}if(!data.password){enqueueSnackbar(\"Password is a required field\",{variant:\"error\"});return false;}if(data.password.length<6){enqueueSnackbar(\"Password must be at least 6 characters\",{variant:\"error\"});return false;}if(data.password!==data.confirmPassword){enqueueSnackbar(\"Passwords do not match\",{variant:\"error\"});return false;}return true;};//handeling the change in Box.\nvar handelchange=function handelchange(e){var value=e.target.value;var name=e.target.name;setform(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleClick=function handleClick(e){e.preventDefault();register(formData);};return/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\",minHeight:\"100vh\",children:[/*#__PURE__*/_jsx(Header,{hasHiddenAuthButtons:true}),/*#__PURE__*/_jsx(Box,{className:\"content\",children:/*#__PURE__*/_jsxs(Stack,{spacing:2,className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Register\"}),/*#__PURE__*/_jsx(TextField,{id:\"username\",label:\"Username\",variant:\"outlined\",title:\"Username\",name:\"username\",placeholder:\"Enter Username\",onChange:handelchange,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{id:\"password\",variant:\"outlined\",label:\"Password\",name:\"password\",type:\"password\",helperText:\"Password must be atleast 6 characters length\",fullWidth:true,placeholder:\"Enter a password with minimum 6 characters\",onChange:handelchange}),/*#__PURE__*/_jsx(TextField,{id:\"confirmPassword\",variant:\"outlined\",label:\"Confirm Password\",name:\"confirmPassword\",type:\"password\",fullWidth:true,onChange:handelchange}),!isLoading?/*#__PURE__*/_jsx(Button,{onClick:handleClick,className:\"button\",variant:\"contained\",children:\"Register Now\"}):/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(CircularProgress,{})}),/*#__PURE__*/_jsxs(\"p\",{className:\"secondary-action\",children:[\"Already have an account?\",\" \",/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/login\",children:\"Login here\"})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Register;","map":{"version":3,"names":["Button","CircularProgress","Stack","TextField","Box","Link","useHistory","axios","useSnackbar","React","useState","useEffect","config","Footer","Header","Register","props","enqueueSnackbar","formdatainit","username","password","confirmPassword","formData","setform","isLoading","setIsLoding","success","setSuccess","history","push","register","validateInput","post","endpoint","then","res","data","variant","catch","e","response","status","message","length","handelchange","value","target","name","handleClick","preventDefault"],"sources":["/home/sumeet/Desktop/New Folder/Qkart/src/components/Register.js"],"sourcesContent":["import { Button, CircularProgress, Stack, TextField } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useState, useEffect } from \"react\";\nimport { config } from \"../App\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport \"./Register.css\";\n\nconst Register = (props) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const formdatainit = {\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  };\n  const [formData, setform] = useState(formdatainit);\n  const [isLoading, setIsLoding] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (success) {\n      history.push(\"/login\");\n    }\n  }, [success, history]);\n  const register = async (formData) => {\n    setIsLoding(true);\n    if (validateInput(formData)) {\n      await axios\n        .post(`${config.endpoint}/auth/register`, {\n          username: formData.username,\n          password: formData.password,\n        })\n        .then((res) => {\n          if (res.data.success) {\n            enqueueSnackbar(\"User registration successfully\", {\n              variant: \"success\",\n            });\n            // history.push('/login');\n          }\n        })\n        .catch((e) => {\n          setIsLoding(false);\n          if (!e.response.data.success && e.response.status === 400) {\n            enqueueSnackbar(e.response.data.message, { variant: \"error\" });\n          } else {\n            enqueueSnackbar(\"Something went wrong!\", { variant: \"error\" });\n          }\n        });\n      }\n    setIsLoding(false);\n    setSuccess(true);\n  };\n\n  const validateInput = (data) => {\n    if (!data.username) {\n      enqueueSnackbar(\"Username is a required field\", { variant: \"error\" });\n      return false;\n    }\n    if (data.username.length < 6) {\n      enqueueSnackbar(\"Username must be at least 6 characters\", {\n        variant: \"error\",\n      });\n      return false;\n    }\n    if (!data.password) {\n      enqueueSnackbar(\"Password is a required field\", { variant: \"error\" });\n      return false;\n    }\n    if (data.password.length < 6) {\n      enqueueSnackbar(\"Password must be at least 6 characters\", {\n        variant: \"error\",\n      });\n      return false;\n    }\n    if (data.password !== data.confirmPassword) {\n      enqueueSnackbar(\"Passwords do not match\", { variant: \"error\" });\n      return false;\n    }\n    return true;\n  };\n  //handeling the change in Box.\n  const handelchange = (e) => {\n    const value = e.target.value;\n    const name = e.target.name;\n    setform({ ...formData, [name]: value });\n  };\n  const handleClick = (e) => {\n    e.preventDefault();\n    register(formData);\n  };\n\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      justifyContent=\"space-between\"\n      minHeight=\"100vh\"\n    >\n      <Header hasHiddenAuthButtons={true} />\n      <Box className=\"content\">\n        <Stack spacing={2} className=\"form\">\n          <h2 className=\"title\">Register</h2>\n          <TextField\n            id=\"username\"\n            label=\"Username\"\n            variant=\"outlined\"\n            title=\"Username\"\n            name=\"username\"\n            placeholder=\"Enter Username\"\n            onChange={handelchange}\n            fullWidth\n          />\n          <TextField\n            id=\"password\"\n            variant=\"outlined\"\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            helperText=\"Password must be atleast 6 characters length\"\n            fullWidth\n            placeholder=\"Enter a password with minimum 6 characters\"\n            onChange={handelchange}\n          />\n          <TextField\n            id=\"confirmPassword\"\n            variant=\"outlined\"\n            label=\"Confirm Password\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            fullWidth\n            onChange={handelchange}\n          />\n          {!isLoading ? (\n            <Button\n              onClick={handleClick}\n              className=\"button\"\n              variant=\"contained\"\n            >\n              Register Now\n            </Button>\n          ) : (\n            <div className=\"loading\">\n              <CircularProgress />\n            </div>\n          )}\n          <p className=\"secondary-action\">\n            Already have an account?{\" \"}\n            <Link className=\"link\" to={`/login`}>\n              Login here\n            </Link>\n          </p>\n        </Stack>\n      </Box>\n      <Footer />\n    </Box>\n  );\n};\n\nexport default Register;\n"],"mappings":"wnBAAA,OAASA,MAAT,CAAiBC,gBAAjB,CAAmCC,KAAnC,CAA0CC,SAA1C,KAA2D,eAA3D,CACA,OAASC,GAAT,KAAoB,aAApB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,WAA5B,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,KAAuB,QAAvB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,MAAO,gBAAP,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAC1B,iBAA4BR,WAAW,EAAvC,CAAQS,eAAR,cAAQA,eAAR,CACA,GAAMC,aAAY,CAAG,CACnBC,QAAQ,CAAE,EADS,CAEnBC,QAAQ,CAAE,EAFS,CAGnBC,eAAe,CAAE,EAHE,CAArB,CAKA,cAA4BX,QAAQ,CAACQ,YAAD,CAApC,wCAAOI,QAAP,eAAiBC,OAAjB,eACA,eAAiCb,QAAQ,CAAC,KAAD,CAAzC,yCAAOc,SAAP,eAAkBC,WAAlB,eACA,eAA8Bf,QAAQ,CAAC,KAAD,CAAtC,yCAAOgB,OAAP,eAAgBC,UAAhB,eACA,GAAMC,QAAO,CAAGtB,UAAU,EAA1B,CAEAK,SAAS,CAAC,UAAM,CACd,GAAIe,OAAJ,CAAa,CACXE,OAAO,CAACC,IAAR,CAAa,QAAb,EACD,CACF,CAJQ,CAIN,CAACH,OAAD,CAAUE,OAAV,CAJM,CAAT,CAKA,GAAME,SAAQ,4FAAG,iBAAOR,QAAP,oHACfG,WAAW,CAAC,IAAD,CAAX,CADe,IAEXM,aAAa,CAACT,QAAD,CAFF,+CAGPf,MAAK,CACRyB,IADG,WACKpB,MAAM,CAACqB,QADZ,mBACsC,CACxCd,QAAQ,CAAEG,QAAQ,CAACH,QADqB,CAExCC,QAAQ,CAAEE,QAAQ,CAACF,QAFqB,CADtC,EAKHc,IALG,CAKE,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,CAASV,OAAb,CAAsB,CACpBT,eAAe,CAAC,gCAAD,CAAmC,CAChDoB,OAAO,CAAE,SADuC,CAAnC,CAAf,CAGA;AACD,CACF,CAZG,EAaHC,KAbG,CAaG,SAACC,CAAD,CAAO,CACZd,WAAW,CAAC,KAAD,CAAX,CACA,GAAI,CAACc,CAAC,CAACC,QAAF,CAAWJ,IAAX,CAAgBV,OAAjB,EAA4Ba,CAAC,CAACC,QAAF,CAAWC,MAAX,GAAsB,GAAtD,CAA2D,CACzDxB,eAAe,CAACsB,CAAC,CAACC,QAAF,CAAWJ,IAAX,CAAgBM,OAAjB,CAA0B,CAAEL,OAAO,CAAE,OAAX,CAA1B,CAAf,CACD,CAFD,IAEO,CACLpB,eAAe,CAAC,uBAAD,CAA0B,CAAEoB,OAAO,CAAE,OAAX,CAA1B,CAAf,CACD,CACF,CApBG,CAHO,QAyBfZ,WAAW,CAAC,KAAD,CAAX,CACAE,UAAU,CAAC,IAAD,CAAV,CA1Be,sDAAH,kBAARG,SAAQ,4CAAd,CA6BA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACK,IAAD,CAAU,CAC9B,GAAI,CAACA,IAAI,CAACjB,QAAV,CAAoB,CAClBF,eAAe,CAAC,8BAAD,CAAiC,CAAEoB,OAAO,CAAE,OAAX,CAAjC,CAAf,CACA,MAAO,MAAP,CACD,CACD,GAAID,IAAI,CAACjB,QAAL,CAAcwB,MAAd,CAAuB,CAA3B,CAA8B,CAC5B1B,eAAe,CAAC,wCAAD,CAA2C,CACxDoB,OAAO,CAAE,OAD+C,CAA3C,CAAf,CAGA,MAAO,MAAP,CACD,CACD,GAAI,CAACD,IAAI,CAAChB,QAAV,CAAoB,CAClBH,eAAe,CAAC,8BAAD,CAAiC,CAAEoB,OAAO,CAAE,OAAX,CAAjC,CAAf,CACA,MAAO,MAAP,CACD,CACD,GAAID,IAAI,CAAChB,QAAL,CAAcuB,MAAd,CAAuB,CAA3B,CAA8B,CAC5B1B,eAAe,CAAC,wCAAD,CAA2C,CACxDoB,OAAO,CAAE,OAD+C,CAA3C,CAAf,CAGA,MAAO,MAAP,CACD,CACD,GAAID,IAAI,CAAChB,QAAL,GAAkBgB,IAAI,CAACf,eAA3B,CAA4C,CAC1CJ,eAAe,CAAC,wBAAD,CAA2B,CAAEoB,OAAO,CAAE,OAAX,CAA3B,CAAf,CACA,MAAO,MAAP,CACD,CACD,MAAO,KAAP,CACD,CA1BD,CA2BA;AACA,GAAMO,aAAY,CAAG,QAAfA,aAAe,CAACL,CAAD,CAAO,CAC1B,GAAMM,MAAK,CAAGN,CAAC,CAACO,MAAF,CAASD,KAAvB,CACA,GAAME,KAAI,CAAGR,CAAC,CAACO,MAAF,CAASC,IAAtB,CACAxB,OAAO,gCAAMD,QAAN,wBAAiByB,IAAjB,CAAwBF,KAAxB,GAAP,CACD,CAJD,CAKA,GAAMG,YAAW,CAAG,QAAdA,YAAc,CAACT,CAAD,CAAO,CACzBA,CAAC,CAACU,cAAF,GACAnB,QAAQ,CAACR,QAAD,CAAR,CACD,CAHD,CAKA,mBACE,MAAC,GAAD,EACE,OAAO,CAAC,MADV,CAEE,aAAa,CAAC,QAFhB,CAGE,cAAc,CAAC,eAHjB,CAIE,SAAS,CAAC,OAJZ,wBAME,KAAC,MAAD,EAAQ,oBAAoB,CAAE,IAA9B,EANF,cAOE,KAAC,GAAD,EAAK,SAAS,CAAC,SAAf,uBACE,MAAC,KAAD,EAAO,OAAO,CAAE,CAAhB,CAAmB,SAAS,CAAC,MAA7B,wBACE,WAAI,SAAS,CAAC,OAAd,sBADF,cAEE,KAAC,SAAD,EACE,EAAE,CAAC,UADL,CAEE,KAAK,CAAC,UAFR,CAGE,OAAO,CAAC,UAHV,CAIE,KAAK,CAAC,UAJR,CAKE,IAAI,CAAC,UALP,CAME,WAAW,CAAC,gBANd,CAOE,QAAQ,CAAEsB,YAPZ,CAQE,SAAS,KARX,EAFF,cAYE,KAAC,SAAD,EACE,EAAE,CAAC,UADL,CAEE,OAAO,CAAC,UAFV,CAGE,KAAK,CAAC,UAHR,CAIE,IAAI,CAAC,UAJP,CAKE,IAAI,CAAC,UALP,CAME,UAAU,CAAC,8CANb,CAOE,SAAS,KAPX,CAQE,WAAW,CAAC,4CARd,CASE,QAAQ,CAAEA,YATZ,EAZF,cAuBE,KAAC,SAAD,EACE,EAAE,CAAC,iBADL,CAEE,OAAO,CAAC,UAFV,CAGE,KAAK,CAAC,kBAHR,CAIE,IAAI,CAAC,iBAJP,CAKE,IAAI,CAAC,UALP,CAME,SAAS,KANX,CAOE,QAAQ,CAAEA,YAPZ,EAvBF,CAgCG,CAACpB,SAAD,cACC,KAAC,MAAD,EACE,OAAO,CAAEwB,WADX,CAEE,SAAS,CAAC,QAFZ,CAGE,OAAO,CAAC,WAHV,0BADD,cASC,YAAK,SAAS,CAAC,SAAf,uBACE,KAAC,gBAAD,IADF,EAzCJ,cA6CE,WAAG,SAAS,CAAC,kBAAb,sCAC2B,GAD3B,cAEE,KAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,EAAE,SAAzB,wBAFF,GA7CF,GADF,EAPF,cA6DE,KAAC,MAAD,IA7DF,GADF,CAiED,CArJD,CAuJA,cAAejC,SAAf"},"metadata":{},"sourceType":"module"}